<!-- Template 1: Modern Minimal Dark - Home Page -->
<header class="site-header">
  <div class="header-wrapper">
    <a href="{{ '/' | relative_url }}" class="site-title">{{ site.title }}</a>
    
    <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
      ‚ò∞
    </button>
    
    <nav class="site-nav">
      <a href="{{ '/' | relative_url }}">Home</a>
      <a href="{{ site.baseurl }}/about/">About</a>
      {% for page in site.header_pages %}
        {% assign page_url = page | relative_url %}
        {% if page != 'about.md' %}
          <a href="{{ site.baseurl }}/{{ page }}">{{ page | replace: '.md', '' | capitalize }}</a>
        {% endif %}
      {% endfor %}
      <a href="https://github.com/{{ site.github_username }}/java-for-scala-devs" target="_blank">GitHub</a>
    </nav>
  </div>
</header>

<main class="main-content">
  <div class="hero">
    <h1>{{ site.title }}</h1>
    <p>{{ site.description }}</p>
  </div>
  
  <!-- Search -->
  <div class="search-container">
    <input type="text" class="search-input" placeholder="Search posts by title, content, or tags...">
  </div>
  
  <!-- Category Filter -->
  <div class="category-filter">
    <div class="filter-header">
      <h3>Filter by Category</h3>
      <span class="filter-count"><span id="visible-count">{{ site.posts | size }}</span> / {{ site.posts | size }} posts</span>
    </div>
    <div class="category-buttons">
      <button class="category-btn active" data-category="all">
        <span class="category-icon">üìö</span>
        <span class="category-label">All Posts</span>
        <span class="category-badge">{{ site.posts | size }}</span>
      </button>
      {% assign categories = site.posts | map: "categories" | join: "," | split: "," | uniq | sort %}
      {% for category in categories %}
        {% if category != "" %}
        {% assign category_posts = site.posts | where_exp: "post", "post.categories contains category" %}
        <button class="category-btn" data-category="{{ category | downcase }}">
          <span class="category-icon">
            {% if category == "interview" %}üíº
            {% elsif category == "features" %}‚ú®
            {% elsif category == "concurrency" %}‚ö°
            {% elsif category == "introduction" %}üëã
            {% else %}üìù{% endif %}
          </span>
          <span class="category-label">{{ category | capitalize }}</span>
          <span class="category-badge">{{ category_posts | size }}</span>
        </button>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  <!-- Category Groups Section -->
  <div class="category-groups-section">
    <div class="section-header">
      <h2>Posts by Category</h2>
      <p class="section-subtitle">Browse posts organized by topic areas</p>
    </div>

    {% assign categories = site.posts | map: "categories" | join: "," | split: "," | uniq | sort %}
    {% for category in categories %}
      {% if category != "" %}
      {% assign category_posts = site.posts | where_exp: "post", "post.categories contains category" %}

      <div class="category-group" data-category="{{ category | downcase }}">
        <div class="category-group-header">
          <div class="category-group-title">
            <span class="category-group-icon">
              {% if category == "interview" %}üíº
              {% elsif category == "features" %}‚ú®
              {% elsif category == "concurrency" %}‚ö°
              {% elsif category == "introduction" %}üëã
              {% else %}üìù{% endif %}
            </span>
            <h3>{{ category | capitalize }}</h3>
            <span class="category-group-count">{{ category_posts | size }} posts</span>
          </div>
          <p class="category-group-description">
            {% if category == "interview" %}
              Essential topics and deep dives for Java 21 interview preparation
            {% elsif category == "features" %}
              Exploring modern Java features and their Scala equivalents
            {% elsif category == "concurrency" %}
              Concurrent and asynchronous programming patterns
            {% elsif category == "introduction" %}
              Getting started with Java for Scala developers
            {% else %}
              Posts related to {{ category }}
            {% endif %}
          </p>
        </div>

        <div class="category-group-posts">
          {% for post in category_posts limit: 3 %}
          <article class="category-post-card">
            <div class="post-card-header">
              <time class="post-card-date" datetime="{{ post.date | date_to_xmlschema }}">
                {{ post.date | date: "%b %-d, %Y" }}
              </time>
            </div>
            <h4 class="post-card-title">
              <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            </h4>
            <p class="post-card-excerpt">{{ post.excerpt | strip_html | truncatewords: 25 }}</p>
            <div class="post-card-tags">
              {% for tag in post.tags limit: 4 %}
              <span class="post-card-tag">{{ tag }}</span>
              {% endfor %}
            </div>
          </article>
          {% endfor %}

          {% if category_posts.size > 3 %}
          <a href="#" class="view-all-link" data-category="{{ category | downcase }}">
            View all {{ category_posts | size }} posts in {{ category | capitalize }} ‚Üí
          </a>
          {% endif %}
        </div>
      </div>
      {% endif %}
    {% endfor %}
  </div>
  
  <!-- Posts List -->
  <h2>Latest Posts</h2>
  <ul class="post-list">
    {% for post in site.posts %}
    <li class="post-item" data-categories="{{ post.categories | join: ' ' }}" data-tags="{{ post.tags | join: ' ' }}">
      <h3 class="post-title">
        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
      </h3>
      <p class="post-meta">
        <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %-d, %Y" }}</time>
        {% if post.author %} ‚Ä¢ {{ post.author }}{% endif %}
      </p>
      <p class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 40 }}</p>
      <div class="tags">
        {% for tag in post.tags %}
        <a href="#" class="tag" data-category="{{ tag }}">{{ tag }}</a>
        {% endfor %}
      </div>
    </li>
    {% endfor %}
  </ul>
  
  <!-- Timeline View -->
  <h2>Post Timeline</h2>
  <div class="timeline">
    {% for post in site.posts %}
    <div class="timeline-item" data-categories="{{ post.categories | join: ' ' }}" data-tags="{{ post.tags | join: ' ' }}">
      <span class="timeline-date">{{ post.date | date: "%b %d, %Y" }}</span>
      <h3 class="post-title">
        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
      </h3>
      <p class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 20 }}</p>
    </div>
    {% endfor %}
  </div>
  
  {{ content }}
</main>

<footer class="site-footer">
  <div class="footer-wrapper">
    <div class="footer-links">
      <a href="https://github.com/{{ site.github_username }}/java-for-scala-devs">GitHub</a>
      <a href="{{ '/feed.xml' | relative_url }}">RSS Feed</a>
      <a href="{{ site.baseurl }}/about/">About</a>
    </div>
    <p>&copy; {{ 'now' | date: "%Y" }} {{ site.title }}. Built with Jekyll.</p>
  </div>
</footer>
